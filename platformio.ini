; PlatformIO Configuration for UI_Application
; LilyGo T-Display S3 AMOLED 1.43" (466x466 circular)
; Uses LVGL 8.3.5 and Arduino_GFX library
;
; This is a complete, self-contained project that can be developed
; independently from the main repository.

[platformio]
default_envs = lilygo_amoled_143

[env]
platform = espressif32@6.7.0
framework = arduino
monitor_speed = 115200
upload_speed = 460800
boards_dir = boards

; Common build flags
build_flags = 
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DCORE_DEBUG_LEVEL=1
    -DBOARD_HAS_PSRAM
    -DLV_CONF_INCLUDE_SIMPLE
    -DDISABLE_ALL_LIBRARY_WARNINGS
    -mfix-esp32-psram-cache-issue
    
; Common libraries (from lib/ folder)
lib_deps = 
    lvgl
    
lib_ldf_mode = deep+
lib_extra_dirs = ${PROJECT_DIR}/lib
lib_ignore = lib_deps

monitor_filters =
    default
    esp32_exception_decoder

; ============================================================================
; 1.43" Circular AMOLED Display
; ============================================================================
[env:lilygo_amoled_143]
board = esp32-s3-devkitc-1
board_build.arduino.memory_type = qio_opi
board_build.partitions = default_16MB.csv
board_build.flash_mode = qio
board_upload.flash_size = 16MB
board_upload.maximum_size = 16777216

build_flags = 
    ${env.build_flags}
    -DBOARD_LILYGO_AMOLED_143=1
    -DAMOLED_WIDTH=466
    -DAMOLED_HEIGHT=466
    -DUSE_ARDUINO_GFX=1
    -DDO0143FMST10=1
    
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
